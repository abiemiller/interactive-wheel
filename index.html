<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Literacy Wheel – Numbered Debug</title>

  <style>
    body{
      margin:0;
      display:flex;
      justify-content:center;
      align-items:center;
      min-height:100vh;
      font-family:Arial, sans-serif;
    }

    .stage{
      width:min(640px,96vw);
      padding:12px;
    }

    svg{
      width:100%;
      height:auto;
      display:block;
      aspect-ratio:1/1;
      user-select:none;
    }

    /* Make slices clickable but invisible */
    .slice{
      fill: rgba(255,255,255,0);
      stroke: rgba(255,255,255,0);
    }

    /* Number labels */
    .label{
      font-size:36px;
      font-weight:bold;
      fill:#000;
      text-anchor:middle;
      dominant-baseline:middle;
      pointer-events:none;
      background:white;
    }
  </style>
</head>

<body>
  <div class="stage">
    <svg viewBox="0 0 1000 1000" aria-label="Numbered Literacy Wheel">

      <!-- Wheel image -->
      <image href="Wheel.png"
             x="0" y="0"
             width="1000" height="1000"
             preserveAspectRatio="xMidYMid meet" />

      <!-- Slices -->
      <g id="slices"></g>
      <g id="labels"></g>

    </svg>
  </div>

  <script>
    const cx = 500, cy = 500;
    const rInner = 180;
    const rOuter = 470;
    const sliceSize = 45; // degrees per slice
    const half = sliceSize / 2;

    // IMPORTANT:
    // This matches your ORIGINAL CSS logic:
    // 0° = right (3 o'clock)
    // positive = clockwise
    const centers = [
      -90,  // 1
      -45,  // 2
       0,   // 3
       45,  // 4
       90,  // 5
       135, // 6
       180, // 7
      -135  // 8
    ];

    function polar(cx, cy, r, deg){
      const rad = deg * Math.PI / 180;
      return {
        x: cx + r * Math.cos(rad),
        y: cy + r * Math.sin(rad)
      };
    }

    function wedgePath(start, end){
      const p1 = polar(cx, cy, rOuter, start);
      const p2 = polar(cx, cy, rOuter, end);
      const p3 = polar(cx, cy, rInner, end);
      const p4 = polar(cx, cy, rInner, start);
      const large = end - start > 180 ? 1 : 0;

      return `
        M ${p1.x} ${p1.y}
        A ${rOuter} ${rOuter} 0 ${large} 1 ${p2.x} ${p2.y}
        L ${p3.x} ${p3.y}
        A ${rInner} ${rInner} 0 ${large} 0 ${p4.x} ${p4.y}
        Z
      `;
    }

    const sliceGroup = document.getElementById("slices");
    const labelGroup = document.getElementById("labels");

    centers.forEach((c, i) => {
      const start = c - half;
      const end = c + half;

      // slice path
      const path = document.createElementNS("http://www.w3.org/2000/svg","path");
      path.setAttribute("d", wedgePath(start, end));
      path.setAttribute("class","slice");
      sliceGroup.appendChild(path);

      // number label
      const mid = polar(cx, cy, (rInner + rOuter)/2, c);
      const text = document.createElementNS("http://www.w3.org/2000/svg","text");
      text.setAttribute("x", mid.x);
      text.setAttribute("y", mid.y);
      text.setAttribute("class","label");
      text.textContent = (i + 1);
      labelGroup.appendChild(text);
    });
  </script>
</body>
</html>
